开机自启注册表信息地址
计算机\HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Run

#20241115
##救急，非常重要
win10资源管理器频繁假死 - Microsoft Community

##管理员运行



WSL迁移

松搬迁！教你如何将WSL从C盘迁移到其他盘区，释放存储空间！ - 知乎 (zhihu.com)


修改Ubuntu的apt-get源为国内镜像源的方法 - 知乎 (zhihu.com)
sudo vim /etc/apt/sources.list 
#esc :wq
或者sudo nano /etc/apt/sources.list
#ctro+X Y
#中科大源
deb http://mirrors.ustc.edu.cn/ubuntu/ xenial main restricted universe multiverse
deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse
deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse
deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse
deb http://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse
deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial main restricted universe multiverse
deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-security main restricted universe multiverse
deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse
deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse
deb-src http://mirrors.ustc.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse

#清华源
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse

Nvidia Cuda 历史版本下载链接
CUDA Toolkit Archive | NVIDIA Developer

新系统第一件事，给管理员用户把每个磁盘的权限拿到最高，不然到后面很麻烦。尤其是Anaconda的env路径，务必在设置里面先把权限给remote用户完全控制，默认是不能修改，运维噩梦
#1.powershell管理员
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
##2.vsc默认最高权限
vsc根目录把code.exe属性兼容性调整为始终以管理员打开即可
将 VS Code 终端设置为始终以管理员权限打开 - 余生以学 - 博客园

这里是整理好的win10 + WSL 1运维基础脚本
##注意~/.bashrc添加任何东西都尽量从最后面另起一行，不要在前面插入任何东西



#自启动脚本
#放到startup文件夹，开机启动WSL
win+R：
shell:startup

# WSL2实现内网共享
## 首先记得把WSL的IP固定下来
WSL Ubuntu 如何固定IP


## 非常推荐使用端口转发，上公网也安全
如何实现 WSL ubntu 服务局域网共有

## 转发规则示范脚本


20240914
wsl绕开microsoft store安装ubuntu的方法
手动安装WSL的方法,绕开Microsoft Store安装Ubuntu并安装到其他盘,以及后续一些配置_wsl安装appxbuile-CSDN博客


如何优雅地访问远程主机？SSH与frp内网穿透配置教程_哔哩哔哩_bilibili

#Ubuntu系统清理


20241129
windows设置静态ip
最后一个字段尽量数字大一点，小的话容易在关机后被人占用，比如192.168.1.188就比192.168.1.100好




#Win10 Anaconda 添加或者删除 默认环境创建路径


20250406
WSL有多个子系统的时候切换默认或者指定虚拟环境激活
# powershell
	1. 指定激活wsl -d Ubuntu-24.04
	2. 切换默认wsl --set-default Ubuntu-24.04
	


#3
wsl配置conda与rstudioserver
0.simpl establish
Index of /anaconda/miniconda/ | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror

1.下载
2.bash安装
3.添加PATH到bashrc

1.新用户获取最高权限

2.安装conda 和rstudioserver

#bash 安装conda的命令直接bash 文件名就好，不用这么复杂

#重启Rserver
# 停止 rstudio-server 服务
sudo rstudio-server stop
# 运行 rstudio-server 服务
sudo rstudio-server start
#检测rserver状态
sudo rstudio-server status

Win10命令行设置环境变量
#先指定文件目录，比如conda等等
setx JAVA_HOME "C:\Path\To\Your\JDK"
#再找里面需要计入环境变量的目录
setx PATH "%PATH%;%JAVA_HOME%\bin"
Ubuntu 命令行设置环境变量
#先制定一个目录
export SPARK_HOME=~/spark-3.1.2-bin-hadoop3.2
#导出到path
export PATH=$PATH:$SPARK_HOME/bin

Win10任务管理器中不显示GPU显卡的解决方法[通俗易懂]-腾讯云开发者社区-腾讯云


#用于制作系统还原备份镜像的小工具


20241223
#对于RDP来说很重要，优先改
#windows锁屏持续运行任务
## 控制台锁屏关闭超时改为0即可


20250426
# windows docker desktop调用方法
## 省流：WSL2调用即可
# powershell
wsl --list --verbose
wsl -d docker-desktop #进入docker命令
# 或者直接在powershell
docker run


20250423
# WSL对windows的硬盘权限修改，让Rstudio-server之类的可以在windows数据盘修改数据


Windows下使用net user命令管理账户-CSDN博客


WSL 命令报错“系统找不到指定的路径。”
WSL出现问题，提示“系统找不到相关路径”或者“系统找不到指定的文件“_wsl 系统找不到指定的路径-CSDN博客
重装WSL包即可
microsoft/WSL: Windows Subsystem for Linux
进微软这个页面的release，下载一个稳定版本安装即可



# 20250504_双N卡成功经验总结：买了个A卡亮机

1. 只安装单卡，GT620先去七彩虹官网下载驱动以后安装，之后一定记得打开RDP
2. 双卡策略参考[让Nvidia GT610和Tesla M40计算卡能够协同凑合用—仅作抛砖，无技术含量+相关知识学习 - 哔哩哔哩](https://www.bilibili.com/opus/762495070527029281)，如果想要视频输出的话尽量就不要双N，尤其是比较老的亮机卡，发新版比较新的卡（20系时间以后的视频输出卡加任意时间的计算卡）随便，驱动兼容性非常好
3. 评论区意见直接使用原版WHQL驱动可以实现GeForce/Tesla驱动共存了，不用禁用驱动签名也可以过小蓝熊反作弊，目前472和546可以实现Win10自动调用，388的（兼容费米老核心）还在研究自动调用
4. 安装Teslam4硬件，启动以后会发现根本找不到硬件，但是没关系，只要卡摸起来是热的多半能用，直接下载cuda以及对应的驱动，我用的是[CUDA Toolkit 11.4 Downloads | NVIDIA Developer](https://developer.nvidia.com/cuda-11-4-0-download-archive?target_os=Windows&target_arch=x86_64&target_version=10&target_type=exe_local)自带的471.11驱动
以及cuda组件，之后N卡亮机卡就寄啦，属实没啥屁用

20241221
一套给nvidia tesla M40配置环境的bash，最麻烦不不超过这个了
• wsl2 ubuntu子系统安装显卡驱动与cuda_wsl2显卡驱动-CSDN博客
• 
• 实时刷新GPU使用情况：nvidia-smi -l（可以指定刷新间隔，例如nvidia-smi -l 1表示每1秒刷新一次）
• # 有两个很关键的点：
1. 先装系统，打鸡血，亮机卡必须安装好驱动正常运行以后才可以上第二张卡，不然直接上BIOS above 4G铁定需要扣电池;务必记得在设置-系统中打开远程桌面RDP并拍照记录，这个是最后修复错误的底线，这样即使bios视频输出看不到也可以正常启动windows
2. BIOS设置(大显存显卡双卡必须要有这个)：
advance设置中找到一个PCIE subsystem选项
Above 4G Decoding
Enabled
再把re-size bar support打开enable
3. 安装驱动，M40可以用cuda_11.4.0_471.11_win10.exe直接安装，选择自定义以后可以发现里面带着一个datacenter驱动，是可以适配的
4. 对于想要打游戏还跑cuda的就建议cuda11.0前后及以下版本的安装，driver版本在452.xx - 460.xx之间为宜CUDA Toolkit Archive | NVIDIA Developer可以进入具体版本cuda下载链接的文件名上看到对应的cuda版本与内置的驱动版本：
5. 
6. 20250425关于双显卡兼容性的赛博问道
7. 




不按照顺序来的下场：
终于搞定X99+TESLA P40+GT710 - 哔哩哔哩

WSL部分还是寄了，用windows玩吧
#检测显卡存在与否

#双击下面的bat文件显示显卡状态


#WSL 1配置systemd
Windows WSL 启用 Systemd（使用 snap 安装应用）_wsl snap-CSDN博客




20250429
# AMD-tesla显卡一条龙，顺序不能乱
1.核显亮机驱动
2.安装tesla计算卡，涡扇小4pin接入温控接口 ，安装cuda以及内置的驱动（没有特殊情况用最新版都可以兼容）， 散热控制使用开源工具FanControl
3.管理员CMD运行nvidia-smi -dm 0进入WDDM模式，记得添加环境变量：地址用everything搜索nvsmi就知道了
4.要是想打游戏nvidia控制面板关闭ECC
5.小飞机核心频率拉满，显存频率加10%

20240918
Win10调整大内存主机的C盘休眠文件：hiberfil.sys

powercfg -h size 50 #数字是百分比
或者
powercfg -h off

20250426
# WSL 2 配置局域网内访问

试了一下没啥用，但是记个笔记吧，目前用起来问题不小，也难怪微软要把wsl2弄到win11上作为主力

windows静默自动提权（推荐开发环境使用），管理员权限不用频繁弹窗必须通过了，同时还能保留底层的基础保护：
创建自动审批规则：
# 以管理员身份运行PowerShell
Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System" -Name "ConsentPromptBehaviorAdmin" -Value 0
Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System" -Name "PromptOnSecureDesktop" -Value 0
这会禁用UAC弹窗但保持基础保护层，适合需要频繁提权的开发场景。
# 撤回：



WSL版本查看与转换
#WSL 1 #WSL 2
#WSL 1 不支持 systemd


Windows 11 安装 WSL2 并ssh远程连接 - 麦克斯的园丁 - 博客园


C盘清理
Win10-C盘清理方法全攻略(从剩余9G到剩49G)-CSDN博客



Win10电源的快速启动
如何在 Windows 11 中打开或关闭快速启动

这个选项会默认关机时备份内存到hiberfil.sys中，导致你从未真正关过机，介意的geeks建议关掉这个功能

20250502
# window环境变量字符超标问题
## 此环境变量太大。此对话框允许将值设置为最长2047个字符
解决：此环境变量太大。此对话框允许将值设置为最长2047个字符-CSDN博客

## 简单来说就是把路径太长的path通过分号隔离开输入到一个新建的系统变量中，之后在PATH中使用%env%的方式引用即可

#ssh在finalshell上报错
解决Session.connect: java.net.SocketException: Connection reset-CSDN博客


20240919
关于主控机同时连接网线和无线网卡的内外网访问优先级问题：
如何设置 Windows 11/10 网络优先级（网卡顺序） - 系统极客 (sysgeek.cn)
可以使用powershell来处理，可以将无线网优先级提升并访问外网，内网使用网线不登录外网网关自动访问被控主机




# 命令行安装miniconda
Installing Miniconda - Anaconda




Win10配置系统自带的ssh服务远程使用powershell
Windows 上的 OpenSSH：安装、配置和使用指南 - 系统极客





20250424
# pytorch下载慢怎么办



#从零开始配置WSL 2强推参考这篇
windows下wsl2网络配置实现局域网机器直接访问wsl内linux系统服务_wsl setting-CSDN博客

20250102 配置了一半的脚本，因为查到了WSL1可以用Systemd所以懒得弄了，直接WSL1完事


#WSL 1将window网络磁盘映射添加到WSL系统中可调用



内网穿透特定端口





花生壳客户端官方下载 - 贝锐花生壳官网


#rsync断点传输大文件
#大文件传输 #ssh断点传输 #rsync #公网传输 #公网端口IP



#1
20240911
Win10 搭建ubuntu子系统与SSH服务器开启，赛博问道，最后一个，亲测可以使用

Windows 子系统：
#开启子系统
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 
#开启虚拟机平台
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart

#关闭子系统
dism.exe /online /disable-feature /featurename:Microsoft-Windows-Subsystem-Linux /norestart
#关闭虚拟机平台
dism.exe /online /disable-feature /featurename:VirtualMachinePlatform /norestart

#powershell管理员权限下更改默认为wsl2模式
wsl --set-default-version 2

sudo service ssh stop
sudo service ssh start
sudo service ssh restart
#关于连接失败的细节调试：
#无法安装发行版ubuntu
Windows 安装 WSL Ubuntu 出现错误代码：0x8007019e - Muxiner's Blog

Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
##转发端口设置
【WSL】WSL折腾之旅（3）SSH远程连接 - 知乎 (zhihu.com)

windows10安装WSL(Ubantu18.04)后无法实现ssh远程链接的解决办法_wsl无法与服务器建立连接-CSDN博客

这里是关于子系统WSL服务的虚拟磁盘，路径语法，以及轻量化图形化界面的内容


WSL子系统用户名与SSH访问设置

Linux下is not in the sudoers file解决方法-CSDN博客



tailscale内网穿透
SUDO=$(command -v sudo || echo "") ; $SUDO bash -c "$(wget -qO- https://gitee.com/kekylin/Debian-HomeNAS/raw/main/Shell/start.sh)"
选择6-1
记得在两个终端都要下载客户端，用自己的tailscale账号运行
ssh服务器端记得先运行：
sudo tailscale up
之后在弹出的连接中做好账号设置即可
我自己的个人用谷歌邮箱了

一点关于分布式集群算力的初步问道
Apache Spark



20240925


1.主控安装JDK和apache，环境变量
2.被控安装apache，环境变量
3.被控启动监听服务
#命令行直接输入：
/mnt/d/Software/spark-3.1.2-bin-hadoop3.2/sbin/start-all.sh

20240921
设置多用户同时登录Windows远程桌面
#单用户多终端登录
设置多用户同时登录Windows远程桌面 - 知乎 (zhihu.com)


RDPwrapper:
RDPWrap v1.8.9.9 (Windows家庭版开启远程桌面、Server解除远程数量限制） - 『精品软件区』 - 吾爱破解 - LCG - LSG |安卓破解|病毒分析|www.52pojie.cn


#多用户登录（就是木马渗透，不安全，一般没必要）
RDPWrap v1.8.9.9:
解压之前记得关掉杀毒软件


安装程序：https://github.com/sebaxakerhtc/rdpwrap/releases/download/v1.8.9.9/RDPW_Installer.exe
卸载程序：https://github.com/sebaxakerhtc/rdpwrap/releases/download/v1.8.9.9/RDPW_Uninstaller.exe

GitHub项目地址：
https://github.com/sebaxakerhtc/rdpwrap

无法访问github可使用：
链接：https://pan.baidu.com/s/1-mXcblCBRtlFYkNhx4QTUQ提取码：4jdg

（感谢 Github 的sebaxakerhtc大神贡献）

#另外一个开源项目，解压出来前关杀毒软件，不然就给您以微妙的言辞删了
GitHub - stascorp/rdpwrap: RDP Wrapper Library


20241110
Win10等建立raid阵列
图文详解：如何在Windows系统中构建raid磁盘阵列 - AndyX.Net - 安迪克斯


20241101
创建多个硬盘的存储池（多硬盘合并盘符）

在设置-系统-存储-管理存储空间-创建存储池



#2
#非常重要，win10 wsl的权限问题比较严格，因为涉及安全问题，导致sudo install 因为权限问题报错
解决Failed to take /etc/passwd lock：Invalid argument的一种方法


建立开机自启动WSL与子系统ssh服务的操作
【WSL2小技巧】Win10/Win11 开机自动启动 WSL2 下 Ubuntu 内 Linux 程序_wsl2开机自启动-CSDN博客

#放到startup文件夹，开机启动WSL
win+R：
shell:startup

#放到/etc，写WSL启动后自动启动的ubuntu服务命令

#这一步在肉鸡wsl界面用root权限完成
cd /etc
sudo chmod 777 init.wsl
sudo nano /etc/init.wsl
#! /bin/sh
#填写任意服务，rstudio-server之类的也可以
service ssh restart
#service rstudio-server start
#service redis-server start
#service mysql start
#service nginx start
#保存退出

#不是很自动化但是相对安全的方法，手动启动WSL
开机自启动powershell脚本，如启动WSL-SSH服务(可能涉及一些权限问题，提前解决一下)




#通过powershell启动win10 SSH服务


安装NVIDIA CUDA失败最简单详细解决方法_no alternatives for cuda-CSDN博客
省流：把所有驱动删除干净，从cuda安装包安装驱动即可




20241112
Ubuntu建立跨区卷（老硬盘后面狗尾续貂）与带区卷（raid）



Image Downloader
ISO Installer - Proxmox Virtual Environment

upan引导制作工具
etcher:Flash OS images to SD cards & USB drives, safely and easily. - GitCode

Ventory
和yumi一样不用反复格式化upan的安装制作，区别是不用解压缩.iso文件
Ventoy

Download . Ventoy





安装vsc的大坑
20241012
Download Visual Studio Code - Mac, Linux, Windows
务必记得安装 system installer，不然即使管理员登录也无法在vsc上以完整权限运行代码

 Documentation for Visual Studio Code

Xml2安装反复报错permission denied

install.packages("xml2", dependencies=TRUE, INSTALL_opts = c('--no-lock'))
R包安装失败报权限错误的解决 - 颜林林的个人网站


pip install 使用国内镜像_pip install 国内镜像-CSDN博客

临时使用：
可以在使用pip的时候加参数-i https://pypi.tuna.tsinghua.edu.cn/simple

例如：pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyspider，这样就会从清华这边的镜像去安装pyspider库。

##注意这个-i参数很重要，尽量保留

20240921
#windows基础语法
把.ps1的powershell脚本文件替换为.bat文件
原脚本：
conda init
conda activate python3.11
cd C:\Software\gpt_academic-master
python main.py


替换后：
@echo off
REM This section initializes Conda
call conda init
REM This section activates the specified Conda environment
call conda activate python3.11
REM Navigates to the specified directory
cd C:\Software\gpt_academic-master
REM Runs the Python script using the active Conda environment
python main.py
REM Pause to keep the command window open after execution
pause

此外，.bat文件还可以简单编译成.exe文件：

